<!DOCTYPE html>
<html>
	<head>
		<title>-</title>

		<!-- Meta, title, CSS, favicons, etc. -->
		<meta charset="UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="ymark">
		<meta name="keywords" content=""/>
		<meta name="description" content=""/>
		<style type="text/css">body{font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;}</style>
		<link type="text/css" rel="stylesheet" href="{{controller.STATICURL}}/static/fun/mind/css/global.css">
		<link type="text/css" rel="stylesheet" href="{{controller.STATICURL}}/static/fun/mind/css/iconfont.css">
		<link type="text/css" rel="stylesheet" href="{{controller.STATICURL}}/static/fun/mind/css/mind.css">
		<link rel="shortcut icon" href="{{controller.STATICURL}}/static/img/favicon.ico"/>
		<link rel="apple-touch-icon" href="{{controller.STATICURL}}/static/img/favicon.ico"/>
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>

	<body>
		<canvas id="support_canvas" style="display: none;"></canvas>
	  	<script type="text/javascript">
	  		if(window.top==window.self){//不存在父页面
	  			// window.location.href = '/error';
	  		}
	  		if (!document.getElementById("support_canvas").getContext) {
	      		window.location.href = "/diagraming/not_support";
	    	}
        var STATICURL='{{controller.STATICURL}}'; 
        var MANAGEURL='{{controller.MANAGEURL}}';
	    </script>
	    <div id="header_bar">
		    <div class="header_block">
		      <div class="header_devider" style="margin-left: 0px"></div>
		      <div class="header_title">{{ controller.catalogtitle }}</div>
		    </div>
		    <div class="header_block">
		      <a id="head_undo" title="撤销 [Ctrl+Z]" class="header_action disabled undo"></a>
		      <a id="head_redo" title="恢复 [Ctrl+Y]" class="header_action disabled redo"></a>
		      <div class="header_devider"></div>
		      <div class="header_action add_topic" title="添加主题 [Tab/Insert]"></div>
		      <div id="header_delete" class="header_action delete disabled" title="删除主题 [Delete]"></div>
		      <!-- <div id="header_relationship" class="header_action relationship disabled" title="RelationShip"></div> -->
		      <div id="header_brush" class="header_action brush disabled" title="格式刷 [Ctrl + b]"></div>
		    </div>
		    <div id="saving_tip"></div>
		    <div class="header_share_container">
		      <a id="header_classic" class="item_block">默认风格</a>
		      <div class="header_right_btn">
		        <div id="download_btn" onclick="UI.showDownload()" class="toolbar_button active" style="padding: 0px 10px;">下载</div>
		      </div>
		    </div>
		  </div>
		<div id="canvas_container">
		    <div id="canvas" style="width: 20000px; height: 20000px; cursor: default; background: rgb(255, 255, 255);"> </div>
		    <div id="canvas_block"></div>
		</div>
		<div id="dock_left">
    <a href="#" id="btn_zoombig" class="ico_dock zoombig"></a>
    <a href="#" id="btn_sign" class="scale">100</a>
    <a href="#" id="btn_zoomsmall" class="ico_dock zoomsmall"></a>
    <a href="#" id="btn_mind_style" class="ico_dock mind">
    <a href="#" id="btn_mind_pos" class="ico_dock circle"></a>
  </div>
  <div id="dock" style="right: 10px;">
    <div id="dock_btn_style" class="dock_btn" onclick="Dock.showView(&#39;style&#39;)" title="样式">
      <span class="ico_dock style"></span>
    </div>
    <div id="dock_btn_icon" class="dock_btn" onclick="Dock.showView(&#39;icon&#39;)" title="图标">
      <span class="ico_dock face"></span>
    </div>
    <div id="dock_btn_note" class="dock_btn" onclick="Dock.showView(&#39;note&#39;)" title="备注">
      <span class="ico_dock note"></span>
    </div>
    <div id="dock_btn_link" class="dock_btn" onclick="Dock.showView(&#39;link&#39;)" title="链接">
      <span class="ico_dock link"></span>
    </div>
    <div id="dock_btn_task" class="dock_btn" onclick="Dock.showView(&#39;task&#39;)" title="任务信息">
      <span class="ico_dock task"></span>
    </div>
  </div>
  <div class="dock_view dock_view_style" style="right: 48px;">
    <div class="dock_view_header">样式
      <div class="ico ico_dock_collapse"></div></div>
    <div class="dock_title">
      <span class="title">主题文字</span></div>
    <div class="dock_content">
      <div style="width:174px;" id="btn_font_family" class="combo">
        <span>字体</span>
        <span class="ico dropdown"></span>
      </div>
      <div class="content_line" style="margin-top: 10px;">
        <div id="btn_font_size" class="spinner" style="width: 60px;" min="12" max="100" old="12px">
          <div class="spinner_input">
            <input></div>
          <div class="buttons">
            <div class="spinner_up"></div>
            <div class="spinner_down"></div>
          </div>
        </div>
        <div id="btn_font_bold" class="btn_switch">B</div>
        <div id="btn_font_italic" class="btn_switch">
          <span>I</span></div>
        <div id="btn_font_color" class="btn_switch">
          <div class="ico20"></div>
        </div>
        <div id="btn_font_align" class="btn_switch alignleft">
          <div class="ico20 alignleft"></div>
        </div>
      </div>
    </div>
    <div class="dock_title">
      <span class="title">主题外观</span></div>
    <div class="dock_content">
      <div style="width:78px;" id="btn_shape" class="combo">
        <span>形状</span>
        <span class="ico dropdown"></span>
      </div>
      <div id="btn_bg_color" class="btn_switch">
        <div class="ico20 bgcolor"></div>
      </div>
    </div>
    <div class="dock_title">
      <span class="title">连线</span></div>
    <div class="dock_content" style="padding-bottom: 5px">
      <div style="width:50px;" id="btn_line_type" class="combo">
        <span>连线类型</span>
        <span class="ico dropdown"></span>
      </div>
      <div style="width:50px;" id="btn_line_width" class="combo">
        <span>连线宽度</span>
        <span class="ico dropdown"></span>
      </div>
      <div id="btn_line_color" class="btn_switch">
        <div class="ico20 linecolor"></div>
      </div>
    </div>
    <div class="dock_title">
      <span class="title">画布背景</span></div>
    <div class="dock_content" style="padding-bottom: 5px">
      <div title="背景颜色" id="btn_background_color" class="btn_switch">
        <div class="ico20 bgcolor"></div>
      </div>
    </div>
  </div>
  <div style="width: 280px; right: 48px;" class="dock_view dock_view_icon">
    <div class="dock_view_header">图标
      <div class="ico ico_dock_collapse"></div></div>
    <ul class="dock_content dock_icons">
      <li class="dock_ico" ico="0" n="priority">
        <span style="background-position: 0px 0px;"></span>
      </li>
      <li class="dock_ico" ico="1" n="priority">
        <span style="background-position: 0px -30px;"></span>
      </li>
      <li class="dock_ico" ico="2" n="priority">
        <span style="background-position: 0px -60px;"></span>
      </li>
      <li class="dock_ico" ico="3" n="priority">
        <span style="background-position: 0px -90px;"></span>
      </li>
      <li class="dock_ico" ico="4" n="priority">
        <span style="background-position: 0px -120px;"></span>
      </li>
      <li class="dock_ico" ico="5" n="priority">
        <span style="background-position: 0px -150px;"></span>
      </li>
      <li class="dock_ico" ico="6" n="priority">
        <span style="background-position: 0px -180px;"></span>
      </li>
      <li class="dock_ico" ico="7" n="priority">
        <span style="background-position: 0px -210px;"></span>
      </li>
      <li class="dock_ico" ico="8" n="priority">
        <span style="background-position: 0px -240px;"></span>
      </li>
      <li class="dock_ico" ico="9" n="priority">
        <span style="background-position: 0px -270px;"></span>
      </li>
      <li class="dock_ico" ico="65" n="priority">
        <span style="background-position: 0px -1950px;"></span>
      </li>
      <li class="dock_ico" ico="66" n="priority">
        <span style="background-position: 0px -1980px;"></span>
      </li>
      <li class="dock_ico" ico="10" n="face">
        <span style="background-position: 0px -300px;"></span>
      </li>
      <li class="dock_ico" ico="11" n="face">
        <span style="background-position: 0px -330px;"></span>
      </li>
      <li class="dock_ico" ico="12" n="face">
        <span style="background-position: 0px -360px;"></span>
      </li>
      <li class="dock_ico" ico="13" n="face">
        <span style="background-position: 0px -390px;"></span>
      </li>
      <li class="dock_ico" ico="14" n="face">
        <span style="background-position: 0px -420px;"></span>
      </li>
      <li class="dock_ico" ico="15" n="face">
        <span style="background-position: 0px -450px;"></span>
      </li>
      <li class="dock_ico" ico="16" n="face">
        <span style="background-position: 0px -480px;"></span>
      </li>
      <li class="dock_ico" ico="17" n="completion">
        <span style="background-position: 0px -510px;"></span>
      </li>
      <li class="dock_ico" ico="18" n="completion">
        <span style="background-position: 0px -540px;"></span>
      </li>
      <li class="dock_ico" ico="19" n="completion">
        <span style="background-position: 0px -570px;"></span>
      </li>
      <li class="dock_ico" ico="20" n="completion">
        <span style="background-position: 0px -600px;"></span>
      </li>
      <li class="dock_ico" ico="21" n="completion">
        <span style="background-position: 0px -630px;"></span>
      </li>
      <li class="dock_ico" ico="22" n="completion">
        <span style="background-position: 0px -660px;"></span>
      </li>
      <li class="dock_ico" ico="23" n="completion">
        <span style="background-position: 0px -690px;"></span>
      </li>
      <li class="dock_ico" ico="24" n="completion">
        <span style="background-position: 0px -720px;"></span>
      </li>
      <li class="dock_ico" ico="25" n="completion">
        <span style="background-position: 0px -750px;"></span>
      </li>
      <li class="dock_ico" ico="26" n="flag">
        <span style="background-position: 0px -780px;"></span>
      </li>
      <li class="dock_ico" ico="27" n="flag">
        <span style="background-position: 0px -810px;"></span>
      </li>
      <li class="dock_ico" ico="28" n="flag">
        <span style="background-position: 0px -840px;"></span>
      </li>
      <li class="dock_ico" ico="29" n="flag">
        <span style="background-position: 0px -870px;"></span>
      </li>
      <li class="dock_ico" ico="30" n="flag">
        <span style="background-position: 0px -900px;"></span>
      </li>
      <li class="dock_ico" ico="31" n="flag">
        <span style="background-position: 0px -930px;"></span>
      </li>
      <li class="dock_ico" ico="32" n="flag">
        <span style="background-position: 0px -960px;"></span>
      </li>
      <li class="dock_ico" ico="33" n="arrow">
        <span style="background-position: 0px -990px;"></span>
      </li>
      <li class="dock_ico" ico="34" n="arrow">
        <span style="background-position: 0px -1020px;"></span>
      </li>
      <li class="dock_ico" ico="35" n="arrow">
        <span style="background-position: 0px -1050px;"></span>
      </li>
      <li class="dock_ico" ico="36" n="arrow">
        <span style="background-position: 0px -1080px;"></span>
      </li>
      <li class="dock_ico" ico="37" n="arrow">
        <span style="background-position: 0px -1110px;"></span>
      </li>
      <li class="dock_devider"></li>
      <li class="dock_ico" ico="38" n="">
        <span style="background-position: 0px -1140px;"></span>
      </li>
      <li class="dock_ico" ico="39" n="">
        <span style="background-position: 0px -1170px;"></span>
      </li>
      <li class="dock_ico" ico="40" n="">
        <span style="background-position: 0px -1200px;"></span>
      </li>
      <li class="dock_ico" ico="41" n="">
        <span style="background-position: 0px -1230px;"></span>
      </li>
      <li class="dock_ico" ico="42" n="">
        <span style="background-position: 0px -1260px;"></span>
      </li>
      <li class="dock_ico" ico="43" n="">
        <span style="background-position: 0px -1290px;"></span>
      </li>
      <li class="dock_ico" ico="44" n="">
        <span style="background-position: 0px -1320px;"></span>
      </li>
      <li class="dock_ico" ico="45" n="">
        <span style="background-position: 0px -1350px;"></span>
      </li>
      <li class="dock_ico" ico="46" n="">
        <span style="background-position: 0px -1380px;"></span>
      </li>
      <li class="dock_ico" ico="47" n="">
        <span style="background-position: 0px -1410px;"></span>
      </li>
      <li class="dock_ico" ico="48" n="">
        <span style="background-position: 0px -1440px;"></span>
      </li>
      <li class="dock_ico" ico="49" n="">
        <span style="background-position: 0px -1470px;"></span>
      </li>
      <li class="dock_ico" ico="50" n="">
        <span style="background-position: 0px -1500px;"></span>
      </li>
      <li class="dock_ico" ico="51" n="">
        <span style="background-position: 0px -1530px;"></span>
      </li>
      <li class="dock_ico" ico="52" n="">
        <span style="background-position: 0px -1560px;"></span>
      </li>
      <li class="dock_ico" ico="53" n="">
        <span style="background-position: 0px -1590px;"></span>
      </li>
      <li class="dock_ico" ico="54" n="">
        <span style="background-position: 0px -1620px;"></span>
      </li>
      <li class="dock_ico" ico="55" n="">
        <span style="background-position: 0px -1650px;"></span>
      </li>
      <li class="dock_ico" ico="56" n="">
        <span style="background-position: 0px -1680px;"></span>
      </li>
      <li class="dock_ico" ico="57" n="">
        <span style="background-position: 0px -1710px;"></span>
      </li>
      <li class="dock_ico" ico="58" n="">
        <span style="background-position: 0px -1740px;"></span>
      </li>
      <li class="dock_ico" ico="59" n="">
        <span style="background-position: 0px -1770px;"></span>
      </li>
      <li class="dock_ico" ico="60" n="">
        <span style="background-position: 0px -1800px;"></span>
      </li>
      <li class="dock_ico" ico="61" n="">
        <span style="background-position: 0px -1830px;"></span>
      </li>
      <li class="dock_ico" ico="62" n="">
        <span style="background-position: 0px -1860px;"></span>
      </li>
      <li class="dock_ico" ico="63" n="">
        <span style="background-position: 0px -1890px;"></span>
      </li>
      <li class="dock_ico" ico="64" n="">
        <span style="background-position: 0px -1920px;"></span>
      </li>
    </ul>
  </div>
  <div style="width: 320px; padding-bottom: 0px; right: 48px;" class="dock_view dock_view_note">
    <div class="dock_view_header">备注
      <div class="ico ico_dock_collapse"></div></div>
      <!-- <div class="dock_title">
        <span class="title">标签</span>
      </div>
      <div class="dock_content">
        <input id="dock_tag" placeholder="编辑标签" type="text" class="input_text remark">
      </div> -->
    <div class="dock_title">
      <span class="title">备注</span>
    </div>
    <div class="dock_content" style="padding-bottom:8px;">
      <textarea id="dock_note" placeholder="编辑备注" class="input_text remark" style="height: 400px;"></textarea>
    </div>
  </div>
  <div style="width: 240px; right: 48px;" class="dock_view dock_view_link">
    <div class="dock_view_header">链接
      <div class="ico ico_dock_collapse"></div></div>
    <div class="dock_title" style="height: 30px">
      <div class="tabs">
        <div class="tab_bar tab_bar_url current" onclick="Dock.showTab(&#39;link&#39;, &#39;url&#39;)">网址</div>
        <div class="tab_bar tab_bar_topic" onclick="Dock.showTab(&#39;link&#39;, &#39;topic&#39;)">主题</div>
      </div>
    </div>
    <div class="dock_content" style="padding-bottom: 0px;padding-top:8px;">
      <div class="dock_tab dock_tab_url">
        <input id="dock_link_url" type="text" class="input_text" value="http://" style="margin: 10px 0px">示例：https://www.processon.com</div>
      <div class="dock_tab dock_tab_topic" style="display: none">
        <div class="dock_link_topic_box">
          <ul class="dock_link_topics"></ul>
        </div>
      </div>
    </div>
  </div>
  <div class="dock_view dock_view_task" style="right: 48px;">
    <div class="dock_view_header">任务信息
      <div class="ico ico_dock_collapse"></div></div>
    <div class="dock_title">
      <span class="title"></span>
    </div>
    <div class="dock_content" style="padding-bottom: 0px">
      <ul class="task_infos">
        <li>
          <label>优先级：</label>
          <div style="width:90px;" id="task_priority" class="combo">
            <span>无</span>
            <span class="ico dropdown"></span>
          </div>
        </li>
        <li>
          <label>完成进度：</label>
          <div style="width:90px;" id="task_completion" class="combo">
            <span>无</span>
            <span class="ico dropdown"></span>
          </div>
        </li>
        <li>
          <label>开始日期：</label>
          <input style="width:104px;" id="task_start" type="text" class="input_text">
          <div class="calendar" style="display: none;">
            <table>
              <tbody>
                <tr>
                  <td class="m " colspan="1">
                    <div class="prev">«</div></td>
                  <td class="m " colspan="5">
                    <div class="month">五月 2016</div></td>
                  <td class="m " colspan="1">
                    <div class="next">»</div></td>
                </tr>
                <tr>
                  <td>1</td>
                  <td>2</td>
                  <td>3</td>
                  <td>4</td>
                  <td>5</td>
                  <td>6</td>
                  <td>7</td></tr>
                <tr>
                  <td>8</td>
                  <td>9</td>
                  <td>10</td>
                  <td>11</td>
                  <td>12</td>
                  <td>13</td>
                  <td>14</td></tr>
                <tr>
                  <td>15</td>
                  <td>16</td>
                  <td>17</td>
                  <td>18</td>
                  <td>19</td>
                  <td>20</td>
                  <td>21</td></tr>
                <tr>
                  <td>22</td>
                  <td>23</td>
                  <td>24</td>
                  <td>25</td>
                  <td>26</td>
                  <td>27</td>
                  <td>28</td></tr>
                <tr>
                  <td>29</td>
                  <td>30</td>
                  <td>31</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </li>
        <li>
          <label>结束日期：</label>
          <input style="width:104px;" id="task_end" type="text" class="input_text">
          <div class="calendar" style="display: none;">
            <table>
              <tbody>
                <tr>
                  <td class="m " colspan="1">
                    <div class="prev">«</div></td>
                  <td class="m " colspan="5">
                    <div class="month">五月 2016</div></td>
                  <td class="m " colspan="1">
                    <div class="next">»</div></td>
                </tr>
                <tr>
                  <td>1</td>
                  <td>2</td>
                  <td>3</td>
                  <td>4</td>
                  <td>5</td>
                  <td>6</td>
                  <td>7</td></tr>
                <tr>
                  <td>8</td>
                  <td>9</td>
                  <td>10</td>
                  <td>11</td>
                  <td>12</td>
                  <td>13</td>
                  <td>14</td></tr>
                <tr>
                  <td>15</td>
                  <td>16</td>
                  <td>17</td>
                  <td>18</td>
                  <td>19</td>
                  <td>20</td>
                  <td>21</td></tr>
                <tr>
                  <td>22</td>
                  <td>23</td>
                  <td>24</td>
                  <td>25</td>
                  <td>26</td>
                  <td>27</td>
                  <td>28</td></tr>
                <tr>
                  <td>29</td>
                  <td>30</td>
                  <td>31</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </li>
        <li>
          <label>持续时间：</label>
          <input id="task_dur" type="text" class="input_text" style="width: 40px;float:left">
          <div id="task_dur_unit" class="combo" style="width: 32px; float:left; margin-left:5px;" v="hour">
            <span v="hour">小时</span>
            <span class="ico dropdown"></span>
          </div>
        </li>
        <li>
          <label>负责人：</label>
          <input style="width:104px;" id="task_assigned" type="text" class="input_text"></li>
      </ul>
    </div>
  </div>
  <div id="ui_container">
    <div id="contextmenu" class="menu list contextmenu" style="display: none;">
      <ul>
        <li ac="edit">编辑文字</li>
        <li root_dis_item="" ac="copy">复制</li>
        <li root_dis_item="" ac="cut">剪切</li>
        <li class="disabled" ac="paste">粘贴</li>
        <li root_dis_item="" ac="delete">删除</li>
        <li ac="insert">插入子主题</li>
        <li ac="connection">关联</li></ul>
    </div>
    <div id="contextmenu_canvas" class="menu list contextmenu" style="display: none;">
      <ul>
        <li ac="focus">定位到中心主题</li>
        <li ac="kuaijiejian">快捷键列表</li></ul>
    </div>
    <div id="contextmenu_conn" class="menu list contextmenu" style="display: none;">
      <ul>
        <li style="position:relative;" ac="linecolor">连线颜色
          <div id="contextmenu_conn_linecolor" class="menu list contextmenu" style="display: none;width:80px;">
            <ul>
              <li style="padding:10px 5px;">
                <div style="height:5px;background:#bf1e1b;"></div></li>
              <li style="padding:10px 5px;">
                <div style="height:5px;background:rgb(113, 203, 45);"></div>
              </li>
              <li style="padding:10px 5px;">
                <div style="height:5px;background:#63abf7;"></div>
              </li>
              <li style="padding:10px 5px;">
                <div style="height:5px;background:gray;"></div>
              </li>
              <li style="padding:10px 5px;">
                <div style="height:5px;background:#e0e4e6;"></div>
              </li>
            </ul>
          </div>
        </li>
        <li style="position:relative;" ac="linetype">连线类型
          <div id="contextmenu_conn_linetype" class="menu list contextmenu" style="display: none;width:80px;">
            <ul>
              <li ac="solid" style="position:relative;">实线</li>
              <li ac="dashed">虚线</li></ul>
          </div>
        </li>
        <li style="position:relative;" ac="linewidth">连线宽度
          <div id="contextmenu_conn_linewidth" class="menu list contextmenu" style="display: none;width:80px;">
            <ul>
              <li ac="1">最细</li>
              <li ac="2">细</li>
              <li ac="3">中等</li>
              <li ac="4">最粗</li></ul>
          </div>
        </li>
      </ul>
    </div>
    <div id="color_picker" class="menu color_picker" style="display: none;">
      <div class="color_picker_left">
        <div class="color_items">
          <div style="background-color:rgb(255,255,255);"></div>
          <div style="background-color:rgb(229,229,229);"></div>
          <div style="background-color:rgb(207,207,207);"></div>
          <div style="background-color:rgb(184,184,184);"></div>
          <div style="background-color:rgb(161,161,161);"></div>
          <div style="background-color:rgb(138,138,138);"></div>
          <div style="background-color:rgb(115,115,115);"></div>
          <div style="background-color:rgb(92,92,92);"></div>
          <div style="background-color:rgb(69,69,69);"></div>
          <div style="background-color:rgb(50,50,50);"></div>
          <div style="background-color:rgb(23,23,23);"></div>
          <div style="background-color:rgb(0,0,0);"></div>
          <div class="clear"></div>
        </div>
        <div class="color_items">
          <div style="background-color:rgb(255,204,204);"></div>
          <div style="background-color:rgb(255,230,204);"></div>
          <div style="background-color:rgb(255,255,204);"></div>
          <div style="background-color:rgb(230,255,204);"></div>
          <div style="background-color:rgb(204,255,204);"></div>
          <div style="background-color:rgb(204,255,230);"></div>
          <div style="background-color:rgb(204,255,255);"></div>
          <div style="background-color:rgb(204,229,255);"></div>
          <div style="background-color:rgb(204,204,255);"></div>
          <div style="background-color:rgb(229,204,255);"></div>
          <div style="background-color:rgb(255,204,255);"></div>
          <div style="background-color:rgb(255,204,230);"></div>
          <div style="background-color:rgb(255,153,153);"></div>
          <div style="background-color:rgb(255,204,153);"></div>
          <div style="background-color:rgb(255,255,153);"></div>
          <div style="background-color:rgb(204,255,153);"></div>
          <div style="background-color:rgb(153,255,153);"></div>
          <div style="background-color:rgb(153,255,204);"></div>
          <div style="background-color:rgb(153,255,255);"></div>
          <div style="background-color:rgb(153,204,255);"></div>
          <div style="background-color:rgb(153,153,255);"></div>
          <div style="background-color:rgb(204,153,255);"></div>
          <div style="background-color:rgb(255,153,255);"></div>
          <div style="background-color:rgb(255,153,204);"></div>
          <div style="background-color:rgb(255,102,102);"></div>
          <div style="background-color:rgb(255,179,102);"></div>
          <div style="background-color:rgb(255,255,102);"></div>
          <div style="background-color:rgb(179,255,102);"></div>
          <div style="background-color:rgb(102,255,102);"></div>
          <div style="background-color:rgb(102,255,179);"></div>
          <div style="background-color:rgb(102,255,255);"></div>
          <div style="background-color:rgb(102,178,255);"></div>
          <div style="background-color:rgb(102,102,255);"></div>
          <div style="background-color:rgb(178,102,255);"></div>
          <div style="background-color:rgb(255,102,255);"></div>
          <div style="background-color:rgb(255,102,179);"></div>
          <div style="background-color:rgb(255,51,51);"></div>
          <div style="background-color:rgb(255,153,51);"></div>
          <div style="background-color:rgb(255,255,51);"></div>
          <div style="background-color:rgb(153,255,51);"></div>
          <div style="background-color:rgb(51,255,51);"></div>
          <div style="background-color:rgb(51,255,153);"></div>
          <div style="background-color:rgb(51,255,255);"></div>
          <div style="background-color:rgb(51,153,255);"></div>
          <div style="background-color:rgb(51,51,255);"></div>
          <div style="background-color:rgb(153,51,255);"></div>
          <div style="background-color:rgb(255,51,255);"></div>
          <div style="background-color:rgb(255,51,153);"></div>
          <div style="background-color:rgb(255,0,0);"></div>
          <div style="background-color:rgb(255,128,0);"></div>
          <div style="background-color:rgb(255,255,0);"></div>
          <div style="background-color:rgb(128,255,0);"></div>
          <div style="background-color:rgb(0,255,0);"></div>
          <div style="background-color:rgb(0,255,128);"></div>
          <div style="background-color:rgb(0,255,255);"></div>
          <div style="background-color:rgb(0,127,255);"></div>
          <div style="background-color:rgb(0,0,255);"></div>
          <div style="background-color:rgb(127,0,255);"></div>
          <div style="background-color:rgb(255,0,255);"></div>
          <div style="background-color:rgb(255,0,128);"></div>
          <div style="background-color:rgb(204,0,0);"></div>
          <div style="background-color:rgb(204,102,0);"></div>
          <div style="background-color:rgb(204,204,0);"></div>
          <div style="background-color:rgb(102,204,0);"></div>
          <div style="background-color:rgb(0,204,0);"></div>
          <div style="background-color:rgb(0,204,102);"></div>
          <div style="background-color:rgb(0,204,204);"></div>
          <div style="background-color:rgb(0,102,204);"></div>
          <div style="background-color:rgb(0,0,204);"></div>
          <div style="background-color:rgb(102,0,204);"></div>
          <div style="background-color:rgb(204,0,204);"></div>
          <div style="background-color:rgb(204,0,102);"></div>
          <div style="background-color:rgb(153,0,0);"></div>
          <div style="background-color:rgb(153,76,0);"></div>
          <div style="background-color:rgb(153,153,0);"></div>
          <div style="background-color:rgb(77,153,0);"></div>
          <div style="background-color:rgb(0,153,0);"></div>
          <div style="background-color:rgb(0,153,77);"></div>
          <div style="background-color:rgb(0,153,153);"></div>
          <div style="background-color:rgb(0,76,153);"></div>
          <div style="background-color:rgb(0,0,153);"></div>
          <div style="background-color:rgb(76,0,153);"></div>
          <div style="background-color:rgb(153,0,153);"></div>
          <div style="background-color:rgb(153,0,77);"></div>
          <div style="background-color:rgb(102,0,0);"></div>
          <div style="background-color:rgb(102,51,0);"></div>
          <div style="background-color:rgb(102,102,0);"></div>
          <div style="background-color:rgb(51,102,0);"></div>
          <div style="background-color:rgb(0,102,0);"></div>
          <div style="background-color:rgb(0,102,51);"></div>
          <div style="background-color:rgb(0,102,102);"></div>
          <div style="background-color:rgb(0,51,102);"></div>
          <div style="background-color:rgb(0,0,102);"></div>
          <div style="background-color:rgb(51,0,102);"></div>
          <div style="background-color:rgb(102,0,102);"></div>
          <div style="background-color:rgb(102,0,51);"></div>
          <div style="background-color:rgb(51,0,0);"></div>
          <div style="background-color:rgb(51,26,0);"></div>
          <div style="background-color:rgb(51,51,0);"></div>
          <div style="background-color:rgb(26,51,0);"></div>
          <div style="background-color:rgb(0,51,0);"></div>
          <div style="background-color:rgb(0,51,26);"></div>
          <div style="background-color:rgb(0,51,51);"></div>
          <div style="background-color:rgb(0,25,51);"></div>
          <div style="background-color:rgb(0,0,51);"></div>
          <div style="background-color:rgb(25,0,51);"></div>
          <div style="background-color:rgb(51,0,51);"></div>
          <div style="background-color:rgb(51,0,26);"></div>
          <div class="clear"></div>
        </div>
      </div>
      <div class="color_picker_right">
        <div class="sep">
          <label class="text">Red</label>
          <input tit="red" type="text"></div>
        <div class="sep">
          <label class="text">Green</label>
          <input tit="green" type="text"></div>
        <div class="sep">
          <label class="text">Blue</label>
          <input tit="blue" type="text"></div>
        <div class="sep">
          <label class="text">Hex</label>
          <input tit="hex" style="width:55px;" type="text"></div>
        <a href="#" class="button delete_color">Transparent</a></div>
      <div class="clear"></div>
    </div>
    <ul id="font_list" class="menu list" style="display: none;">
      <li style="font-family: Arial">Arial</li>
      <li style="font-family: Verdana">Verdana</li>
      <li style="font-family: Georgia">Georgia</li>
      <li style="font-family: Times New Roman">Times New Roman</li>
      <li style="font-family: Courier New">Courier New</li>
      <li style="font-family: Impact">Impact</li>
      <li style="font-family: Comic Sans MS">Comic Sans MS</li>
      <li style="font-family: Tahoma">Tahoma</li>
      <li style="font-family: Garamond">Garamond</li>
      <li style="font-family: Lucida Console">Lucida Console</li>
      <li class="devider"></li>
      <li style="font-family: 宋体">宋体</li>
      <li style="font-family: 微软雅黑">微软雅黑</li>
      <li style="font-family: 黑体">黑体</li></ul>
    <ul id="font_align_list" class="menu list" style="display: none">
      <li al="left">
        <div class="ico20 alignleft"></div>
      </li>
      <li al="center">
        <div class="ico20 aligncenter"></div>
      </li>
      <li al="right">
        <div class="ico20 alignright"></div>
      </li>
    </ul>
    <ul id="shape_list" class="menu list" style="display: none">
      <li s="roundRectangle">圆角矩形</li>
      <li s="rectangle">矩形</li>
      <li s="round">椭圆形</li>
      <li s="diamond">钻石型</li>
      <li s="underline">下划线</li>
      <li s="bubbleRound">气泡型（椭圆）</li>
      <li s="bubbleRectangle">气泡型（矩形）</li>
      <li s="none">无边框</li></ul>
    <ul id="line_type_list" class="menu list" style="display: none">
      <li t="straight">直线</li>
      <li t="curve">曲线</li>
      <li t="broken">折线</li>
      <li t="roundBroken">圆角折线</li></ul>
    <ul id="line_width_list" class="menu list" style="display: none">
      <li w="1">最细</li>
      <li w="2">细</li>
      <li w="3">中等</li>
      <li w="4">粗</li>
      <li w="5">最粗</li></ul>
    <ul id="task_priority_list" class="menu list" style="width: 120px;display: none">
      <li v="">无</li>
      <li v="1" ico="0">优先级 10</li>
      <li v="2" ico="1"></li>
      <li v="3" ico="2"></li>
      <li v="4" ico="3"></li>
      <li v="5" ico="4"></li>
      <li v="6" ico="5"></li>
      <li v="7" ico="6"></li>
      <li v="8" ico="7"></li>
      <li v="9" ico="8"></li>
      <li v="10" ico="9"></li>
    </ul>
    <ul id="task_completion_list" class="menu list" style="width: 120px;display: none">
      <li v="">无</li>
      <li v="0" ico="17">0%</li>
      <li v="10" ico="18">10%</li>
      <li v="25" ico="19">25%</li>
      <li v="35" ico="20">35%</li>
      <li v="50" ico="21">50%</li>
      <li v="65" ico="22">65%</li>
      <li v="75" ico="23">75%</li>
      <li v="90" ico="24">90%</li>
      <li v="100" ico="25">100%</li></ul>
    <ul id="task_dur_unit_list" class="menu list" style="width: 92px;display: none">
      <li v="minute">分钟</li>
      <li v="hour">小时</li>
      <li v="day">天</li>
      <li v="week">周</li>
      <li v="month">月</li></ul>
    <ul id="header_help_list" class="menu list" style="display:none;">
      <li ac="hotkey">快捷键列表</li>
      <li ac="getting_started">开始向导</li></ul>
    <div class="menu mark_content mark1_content">
      <div class="dialog_header">标题菜单栏</div>
      <div class="ico dlg_close" onclick="UI.closeGettingStart()"></div>
      <div class="_content">用于显示：
        <br>思维导图标题
        <br>基本的操作入口
        <br>右侧可以进行切换风格
        <br>思维导图文件的分享、下载、协作等操作。</div>
      <div class="arr-icon top">
        <div class="arr-border"></div>
        <div class="inner-arr"></div>
      </div>
      <div class="mark_next">
        <span class="designer_button normal" onclick="UI.showStartStep(2)">下一步</span></div>
    </div>
    <div class="menu mark_content mark2_content">
      <div class="dialog_header">右侧属性导航菜单</div>
      <div class="ico dlg_close" onclick="UI.closeGettingStart()"></div>
      <div class="_content">思维导图的核心属性菜单，用于设置图形的
        <br>基本样式
        <br>图标
        <br>备注 or 标签
        <br>链接
        <br>任务信息等。</div>
      <div class="arr-icon right">
        <div class="arr-border"></div>
        <div class="inner-arr"></div>
      </div>
      <div class="mark_next">
        <span class="designer_button normal" onclick="UI.showStartStep(3)">下一步</span></div>
    </div>
    <div class="menu mark_content mark3_content">
      <div class="dialog_header">协作信息</div>
      <div class="ico dlg_close" onclick="UI.closeGettingStart()"></div>
      <div class="_content">此处用于邀请好友协作，以及协作过程中的对话等</div>
      <div class="arr-icon bottom">
        <div class="arr-border"></div>
        <div class="inner-arr"></div>
      </div>
      <div class="mark_next">
        <span class="designer_button normal" onclick="UI.closeGettingStart()">关闭</span></div>
    </div>
    <div id="classic_list" class="dock_panel">
      <div style="overflow:auto;max-height:222px;">
        <div tit="defaultClassic" alt="默认风格" title="默认风格" class="classic_item">
          <img src="{{controller.STATICURL}}/static/fun/mind/img/defaultClassic.jpg"></div>
        <div tit="shangwu" alt="" title="" class="classic_item">
          <img src="{{controller.STATICURL}}/static/fun/mind/img/shangwu.jpg"></div>
        <div tit="niupizhi" alt="牛皮纸风格" title="牛皮纸风格" class="classic_item">
          <img src="{{controller.STATICURL}}/static/fun/mind/img/classsic_npz.png"></div>
        <div tit="caihongpao" alt="彩虹泡" title="彩虹泡" class="classic_item">
          <img src="{{controller.STATICURL}}/static/fun/mind/img/caihongpao.jpg"></div>
      </div>
    </div>
    <div id="dock_left_mind_type" class="dock_panel">
      <div style="padding:5px 15px 4px 15px;font-size:16px;">思维导图结构</div>
      <ul>
        <li onclick="UI.toMind()">
          <span class="ico_dock mind_mind"></span>思维导图
          <span class="ico_dock mind_curr"></span></li>
        <li onclick="UI.toRightAligned()">
          <span class="ico_dock mind_right"></span>逻辑图(右)</li>
        <li>
          <span class="ico_dock mind_left"></span>逻辑图(左)</li>
        <li>
          <span class="ico_dock mind_org"></span>组织结构图</li>
      </ul>
    </div>
    <div id="dock_left_mind_pos" class="dock_panel">
      <div style="padding:5px 15px 4px 15px;font-size:16px;">定位</div>
      <ul>
        <li op="fullscreen">
          <span>全屏</span></li>
        <li op="focuscenter">
          <span>中心主题</span></li>
      </ul>
    </div>
    <div id="hotkey_list" class="dialog">
      <div class="dialog_header">快捷键列表</div>
      <div class="dialog_content">
        <div class="hotkey_content">
          <div>
            <span class="hotkey_line">
              <span class="hotkey_desc">拖拽画布</span>——
              <span class="hotkey">
                <span class="key_btn">Alt</span>+ 拖动 or 直接拖拽中心主题</span></span>
          </div>
          <div>
            <span class="hotkey_noline">
              <span class="hotkey_desc">插入同级主题</span>——
              <span class="hotkey">
                <span class="key_btn">Enter</span></span>
            </span>
            <span class="hotkey_noline">
              <span class="hotkey_desc">插入子主题</span>——
              <span class="hotkey">
                <span class="key_btn">Tab</span>or
                <span class="key_btn">Insert</span></span>
            </span>
          </div>
          <div>
            <span class="hotkey_line">
              <span class="hotkey_desc">删除主题</span>——
              <span class="hotkey">
                <span class="key_btn">Delete</span></span>
            </span>
            <span class="hotkey_line">
              <span class="hotkey_desc">编辑主题</span>——
              <span class="hotkey">
                <span class="key_btn">Space</span>or 直接输入</span></span>
          </div>
          <div>
            <span class="hotkey_noline">
              <span class="hotkey_desc">多选</span>——
              <span class="hotkey">
                <span class="key_btn">Ctrl</span>+ 选择</span></span>
            <span class="hotkey_noline">
              <span class="hotkey_desc">中心主题全选</span>——
              <span class="hotkey">
                <span class="key_btn">Ctrl</span>+
                <span class="key_btn">a</span></span>
            </span>
            <span class="hotkey_line">
              <span class="hotkey_desc">中心主题取消选中</span>——
              <span class="hotkey">
                <span class="key_btn">Esc</span></span>
            </span>
          </div>
          <div>
            <span class="hotkey_noline">
              <span class="hotkey_desc">复制主题</span>——
              <span class="hotkey">
                <span class="key_btn">Ctrl</span>+
                <span class="key_btn">c</span></span>
            </span>
            <span class="hotkey_noline">
              <span class="hotkey_desc">剪切主题</span>——
              <span class="hotkey">
                <span class="key_btn">Ctrl</span>+
                <span class="key_btn">x</span></span>
            </span>
            <span class="hotkey_line">
              <span class="hotkey_desc">粘贴主题</span>——
              <span class="hotkey">
                <span class="key_btn">Ctrl</span>+
                <span class="key_btn">v</span></span>
            </span>
            <span class="hotkey_line">
              <span class="hotkey_desc">主题导航</span>——
              <span class="hotkey">
                <span class="key_btn">↑</span>,
                <span class="key_btn">→</span>,
                <span class="key_btn">↓</span>,
                <span class="key_btn">←</span></span>
            </span>
          </div>
          <div>
            <span class="hotkey_noline">
              <span class="hotkey_desc">撤销 [Ctrl+Z]</span>——
              <span class="hotkey">
                <span class="key_btn">Ctrl</span>+
                <span class="key_btn">z</span></span>
            </span>
            <span class="hotkey_noline">
              <span class="hotkey_desc">恢复 [Ctrl+Y]</span>——
              <span class="hotkey">
                <span class="key_btn">Ctrl</span>+
                <span class="key_btn">y</span></span>
            </span>
          </div>
          <span class="hotkey_line null_line">&nbsp;</span></div>
      </div>
      <div class="designer_button normal hotkey_ok" onclick="$(&#39;#hotkey_list&#39;).dlg(&#39;close&#39;)">确定</div></div>
    <div id="export_dialog" class="dialog" style="min-width: 450px;">
      <div class="dialog_header">下载格式</div>
      <div class="dialog_content">
        <form id="export_form" action="https://www.on-img.com/diagram_export" method="post">
          <ul class="export-list">
            <li class="first">
              <input id="export_png" type="radio" name="type" value="image" checked="checked" style="float: left;margin-right: 5px;">
              <label for="export_png" class="export-menu" style="float:left;line-height: 18px;">图片文件
                <span class="suffix">(*.png)</span>
                <span class="export_des">将文件导出为图片</span></label>
              <div style="clear: both;"></div>
            </li>
            <li class="first">
              <input id="export_pdf" type="radio" name="type" value="pdf" style="float: left;margin-right: 5px;">
              <label for="export_pdf" class="export-menu" style="float:left;line-height: 18px;">PDF文件
                <span class="suffix">(*.pdf)</span>
                <span class="export_des">由图片保存成的PDF文件</span></label>
              <div style="clear: both;"></div>
            </li>
            <li class="first">
              <input id="export_pdfHD" type="radio" name="type" value="pdfHD" style="float: left;margin-right: 5px;">
              <label for="export_pdfHD" class="export-menu" style="float:left;line-height: 18px;">PDF文件
                <span class="suffix">(*.pdf)</span>
                <span class="export_des">导出高清PDF文件（仅支持部分字体样式）</span></label>
              <div style="clear: both;"></div>
            </li>
            <li class="first">
              <input id="export_pos" type="radio" name="type" value="pos" style="float: left;margin-right: 5px;">
              <label for="export_pos" class="export-menu" style="float:left;line-height: 18px;">POS文件
                <span class="suffix">(*.pos)</span>
                <span class="export_des">包含图片与图形结构定义（可导入）</span></label>
              <div style="clear: both;"></div>
            </li>
            <li class="first">
              <input id="export_svg" type="radio" name="type" value="svg" style="float: left;margin-right: 5px;">
              <label for="export_svg" class="export-menu" style="float:left;line-height: 18px;">SVG文件
                <span class="suffix">(*.svg)</span>
                <span class="export_des">导出为SVG矢量图形</span></label>
              <div style="clear: both;"></div>
            </li>
            <li class="first">
              <input id="export_xmind" type="radio" name="type" value="xmind" style="float: left;margin-right: 5px;">
              <label for="export_xmind" class="export-menu" style="float:left;line-height: 18px;">XMind文件
                <span class="suffix">(*.xmind)</span>
                <span class="export_des">导出为XMind文件</span></label>
              <div style="clear: both;"></div>
            </li>
            <li class="first">
              <input id="export_fmind" type="radio" name="type" value="fmind" style="float: left;margin-right: 5px;">
              <label for="export_fmind" class="export-menu" style="float:left;line-height: 18px;">FreeMind文件
                <span class="suffix">(*.mm)</span>
                <span class="export_des">导出为FreeMind文件</span></label>
              <div style="clear: both;"></div>
            </li>
          </ul>
          <input id="export_definition" type="hidden" name="definition">
          <input id="export_title" type="hidden" name="title">
          <input type="hidden" name="chartId" value="57159836e4b0d89bd25709a7">
          <input type="hidden" name="ignore" value="definition">
          <input type="hidden" name="mind" value="mind"></form>
      </div>
      <div class="dialog_buttons">
        <div id="export_ok" class="designer_button">确定</div>&nbsp;
        <div id="export_close" class="designer_button normal" onclick="">取消</div></div>
    </div>
    <div id="svg_dialog" style="width:100%;height:100%;position:fixed;top:0;left:0;visibility:hidden;"> </div>
  </div>
		<script type="text/javascript">
      var canvasOffsetHeight = 32;
			var role = "owner";
      var courseUid = "{{ controller.cuid }}" ;
      var catalogId = "{{ controller.cid }}";
			var dateFormat = "yyyy-MM-dd";
			var isUsedMind = "";
			var tutorial = false;
      var REGX_HTML_DECODE = /&\w{1,};|&#\d{1,};/g;
      var HTML_DECODE = {
            "&lt;"  : "<", 
            "&gt;"  : ">", 
            "&amp;" : "&", 
            "&nbsp;": " ", 
            "&quot;": "\"", 
            "&copy;": "©"
      };
      var _data = decodeHtml("{{ controller.treeJson }}");
      if(!_data) { _data = [{}];}
      else{
        _data = eval('('+_data+')');
        if(_data.length <= 0) {_data = [{}];}
        else{
          _data[0].structure = "{{ controller.structure }}";
          _data[0].background = "{{ controller.classic_bg }}";
          _data[0].classic = "{{ controller.classic_classic }}";
        }
      };
      
			var definition = _data[0];
      function decodeHtml(s){
        return (typeof s != "string") ? s :
            s.replace(REGX_HTML_DECODE, function($0){
                var c = HTML_DECODE[$0]; // 尝试查表
                if(c === undefined){
                    // Maybe is Entity Number
                    var m = $0.match(/\d{1,}/);
                    if(m){
                        var cc = m[0];
                        cc = (cc === 0xA0) ? 0x20 : cc;
                        c = String.fromCharCode(cc);
                    }else{
                        // Not Entity Number
                        c = $0;
                    }
                }
                return c;
            });
        };
		</script>
		<script src="{{controller.STATICURL}}/static/js/sea.js"></script>
		<script src="{{controller.STATICURL}}/static/m/js/mcourse.edit.mind.js"></script>
	</body>
</html>
